# nyam! 프로젝트 진행 현황 발표

> 2026-02-14 기준 | 컨디션 기반 맛집 추천 서비스

---

## 1. 서비스 소개

**nyam!** — 사용자의 컨디션(피로, 숙취, 스트레스 등)을 파악하여 맞춤 메뉴와 근처 맛집을 추천하는 AI 챗봇 서비스

| 항목 | 내용 |
|------|------|
| 서비스명 | nyam! (냠) — Next Your Appropriate Menu |
| 배포 URL | https://nyam-production.up.railway.app |
| 기술 스택 | FastAPI + React + TypeScript + OpenAI + Kakao API |
| 배포 환경 | Railway (Docker) |

---

## 2. 현재 완성된 기능 (v1.0 ~ v1.4)

### 핵심 기능

| 기능 | 설명 | 버전 |
|------|------|------|
| AI 챗봇 | GPT-4o-mini 기반 컨디션 맞춤 메뉴 추천 | v1.0 |
| 메뉴 이미지 카드 | 20종 메뉴 DB + 가로 스크롤 UI | v1.0 |
| 맛집 검색 (카카오 API) | 위치 기반 실시간 맛집 검색 + 지도 표시 | v1.0 → v1.4 |
| 메인 페이지 | 히어로 배너, 컨디션 바로가기, 지역·카테고리·컬렉션 | v1.1 |
| 맛집 상세 페이지 | 리뷰·영업시간·지도·전화, 카카오맵 연결 | v1.1 → v1.4 |
| 소셜 로그인 | 카카오 OAuth 2.0 + JWT 토큰 인증 | v1.2 |
| 마이페이지 | 프로필, 즐겨찾기 목록 | v1.2 ~ v1.3 |
| PWA | 홈 화면 설치, 오프라인 지원, 이미지 캐싱 | v1.3 |
| 카카오 실데이터 연동 | 하드코딩 → 카카오 Local API 실시간 데이터 | v1.4 |

### 챗봇 대화 플로우

```
사용자: "피곤해요" → 봇: 메뉴 추천 (삼계탕, 국밥, 비빔밥) + 이미지 카드
사용자: "강남"     → 봇: 강남 근처 맛집 5개 + 지도 + 상세보기 버튼
                       → 클릭 시 맛집 상세 페이지 이동

사용자: "홍대 파스타" → 봇: 홍대 파스타 맛집 5개 즉시 검색 (직접 검색)
```

---

## 3. 시스템 아키텍처

```
┌──────────────────────────────────────────────────────┐
│                    사용자 (모바일/PC)                    │
└──────────────────────┬───────────────────────────────┘
                       │
┌──────────────────────▼───────────────────────────────┐
│              React + TypeScript (PWA)                  │
│  ┌─────────┐  ┌──────────┐  ┌────────┐  ┌─────────┐ │
│  │메인 페이지│  │ AI 챗봇  │  │상세페이지│  │마이페이지│ │
│  └─────────┘  └──────────┘  └────────┘  └─────────┘ │
│              Kakao Maps SDK │ shadcn/ui │ Tailwind   │
└──────────────────────┬───────────────────────────────┘
                       │
┌──────────────────────▼───────────────────────────────┐
│                FastAPI (Python 3.11)                   │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐            │
│  │/chat/*   │  │/api/     │  │/auth/*   │            │
│  │챗봇 API  │  │restaurants│  │OAuth+JWT │            │
│  └────┬─────┘  └────┬─────┘  └────┬─────┘            │
│       │              │              │                  │
│  ┌────▼─────┐  ┌────▼─────┐  ┌────▼─────┐            │
│  │ OpenAI   │  │ Kakao    │  │Supabase  │            │
│  │GPT-4o-mini│ │Local API │  │PostgreSQL│            │
│  └──────────┘  └──────────┘  └──────────┘            │
└──────────────────────────────────────────────────────┘
```

---

## 4. 이번 주 작업 내역 (v1.4.0)

### 카카오 API 실데이터 연동 (가장 큰 변경)

**Before**: 프론트엔드에 하드코딩된 18개 가짜 맛집 데이터
**After**: 카카오 Local API로 실시간 검색, 실제 맛집 데이터 표시

- 백엔드: `restaurant/` 모듈 신규 생성 (kakao_client, API 엔드포인트)
- 프론트엔드: 모든 페이지 API 연동으로 전환
- 상세 페이지: 카카오 플레이스 리뷰·영업시간·지도 표시
- 챗봇: 직접 음식+위치 검색 기능 추가

### 안정성 개선

| 문제 | 해결 |
|------|------|
| 카카오맵 SDK + React DOM 충돌 | CSS display 방식으로 전환, DOM 분리 |
| 채팅 에러 → 전체 앱 크래시 | 채팅 전용 Error Boundary 추가 |
| 챗봇 입력 커서 사라짐 | auto-focus 로직 추가 |
| 메뉴 이미지 깨짐 (삼계탕, 족발) | 유효한 URL로 교체 |

---

## 5. 기술적 챌린지 & 해결

### 카카오 API 한계 극복
- **문제**: 카카오 Local API는 메뉴·리뷰·영업시간·이미지를 제공하지 않음
- **해결**: 카카오 플레이스 비공식 API(`place.map.kakao.com/main/v/{id}`)에서 리뷰·영업시간 추출, og:image로 대표 이미지 확보

### React + 외부 SDK DOM 충돌
- **문제**: 카카오맵 SDK가 `innerHTML = ""`로 React 관리 노드를 파괴 → `removeChild` 크래시
- **해결**: 맵 컨테이너를 React 자식 노드 없는 독립 div로 분리, 로딩 UI는 CSS display로 제어

### 챗봇 → 상세 페이지 네비게이션
- **문제**: 챗봇(모달) 내 맛집 클릭 시 navigate + 모달 닫기 타이밍 충돌 → 빈 화면
- **해결**: navigate 먼저 실행, setTimeout(0)으로 모달 닫기 지연

---

## 6. 버전 히스토리

| 버전 | 날짜 | 주요 내용 |
|------|------|----------|
| v1.0 | 02-02 | AI 챗봇 + 메뉴 카드 + 맛집 검색 + Rate Limiting |
| v1.1 | 02-04 | 메인 페이지 + 상세 페이지 + 라우팅 + nyam! 브랜딩 |
| v1.2 | 02-06 | 카카오 소셜 로그인 + 마이페이지 + 온보딩 |
| v1.3 | 02-09 | PWA + 토스트 알림 + 이미지 최적화 + 즐겨찾기 |
| **v1.4** | **02-14** | **카카오 실데이터 연동 + 챗봇 직접 검색 + 안정성 개선** |

---

## 7. 데모 시나리오

### 시나리오 1: 컨디션 기반 추천
1. 메인 페이지 → 챗봇 열기
2. "피곤해요" 입력 → 메뉴 이미지 카드 (삼계탕, 비빔밥, 국밥)
3. "강남" 입력 → 강남 근처 실제 삼계탕 맛집 5개 + 지도
4. 맛집 클릭 → 상세 페이지 (리뷰, 영업시간, 지도)

### 시나리오 2: 직접 검색
1. 챗봇에서 "홍대 파스타" 입력
2. 홍대 근처 파스타 맛집 5개 즉시 표시

### 시나리오 3: 즐겨찾기
1. 카카오 로그인
2. 맛집 상세 페이지에서 즐겨찾기 추가
3. 마이페이지에서 즐겨찾기 목록 확인

---

## 8. 향후 계획

| 우선순위 | 기능 | 설명 |
|----------|------|------|
| 높음 | 구글 로그인 | OAuth 2.0 연동 |
| 높음 | 최근 본 맛집 | 브라우징 히스토리 기록 |
| 중간 | 푸시 알림 | 식사 시간대 알림 |
| 낮음 | Redis 캐싱 | 분산 Rate Limiting + API 캐싱 |
